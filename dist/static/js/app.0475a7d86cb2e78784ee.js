webpackJsonp([14],{"7zck":function(t,e){},IcnI:function(t,e,n){"use strict";var a=n("7+uW"),r=n("NYxO"),o=n("424j"),u={state:{user:null,token:null},getters:{getUser:function(t){return t.user},getToken:function(t){return t.token}},actions:{setCredentials:function(t,e){var n=t.commit;return t.state,n("setCredentials",e)},clearUser:function(t){var e=t.commit;return t.state,e("clearUser")}},mutations:{clearUser:function(t){t.user=t.token=null},setCredentials:function(t,e){e.token&&(t.token=e.token),e.user&&(t.user=e.user)}}};a.a.use(r.a);e.a=new r.a.Store({modules:{Authentication:u},plugins:[Object(o.a)({key:"_bst_",paths:["Authentication"]})]})},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=new a.a,o={name:"app",data:function(){return{snackBar:{show:!1,message:null,color:null,timeout:7e3}}},methods:{showToast:function(t){var e="primary";"success"===t.mode&&(e="black"),"error"===t.mode&&(e="red"),this.snackBar.show=!0,this.snackBar.message=t.text,this.snackBar.color=e}},mounted:function(){r.$on("display-toast",this.showToast)}},u=n("XyMi"),i=Object(u.a)(o,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-snackbar",{attrs:{color:t.snackBar.color,timeout:t.snackBar.timeout,bottom:"bottom","multi-line":"multi-line"},model:{value:t.snackBar.show,callback:function(e){t.$set(t.snackBar,"show",e)},expression:"snackBar.show"}},[n("span",{staticClass:"white--text"},[t._v(t._s(t.snackBar.message))]),n("v-btn",{attrs:{flat:"flat",color:"white"},nativeOn:{click:function(e){t.snackBar.show=!1}}},[t._v("Close")])],1),n("router-view")],1)},[],!1,null,null,null).exports,c=n("/ocq"),s=n("gyMJ"),l=n("g2Wd");a.a.use(c.a);var d=function(t,e,n){t&&t.meta&&t.meta.public?n():s.c.me().then(function(e){t&&t.meta&&t.meta.auth&&t.meta.auth.length>0?-1!==Object(l.indexOf)(t.meta.auth,e.userType)?n():(r.$emit("display-toast",{text:"Permission Denied. You can't access the page.",mode:"error"}),n(!1)):n()}).catch(function(t){r.$emit("display-toast",{text:"Authentication Failed. Please login again.",mode:"error"}),s.c.logout(),n({name:"login"})}),n()},p=new c.a({mode:"history",routes:[{path:"/",name:"landing",meta:{public:!0},component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"BgHy"))}},{path:"/login",name:"login",meta:{public:!0},component:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,"BgHy"))}},{path:"/logout",name:"logout",meta:{public:!0},component:function(){return n.e(11).then(n.bind(null,"ikzh"))}},{path:"/registration",name:"registration",meta:{public:!0},component:function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,"/UDR"))}},{path:"/our-products",name:"our-products",meta:{public:!0},component:function(){return n.e(10).then(n.bind(null,"kb3O"))}},{path:"/web",name:"web-container",component:function(){return Promise.all([n.e(0),n.e(12)]).then(n.bind(null,"TtzH"))},children:[{path:"dashboard",name:"dashboard",meta:{auth:!0,title:"Dashboard"},component:function(){return n.e(8).then(n.bind(null,"QWlh"))},beforeEnter:d},{path:"/products",name:"products",meta:{auth:["ADMIN"],title:"Products"},component:function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,"u08J"))},beforeEnter:d},{path:"/products/create",name:"product-create",meta:{auth:["ADMIN"],title:"Products > Create"},component:function(){return Promise.all([n.e(0),n.e(3)]).then(n.bind(null,"jl2J"))},beforeEnter:d},{path:"/products/:productId/view",name:"product-view",meta:{auth:["ADMIN"],title:"Products > View"},component:function(){return Promise.all([n.e(0),n.e(2)]).then(n.bind(null,"Mjvw"))},beforeEnter:d},{path:"/masterlist/brethrens",name:"masterlist-member",meta:{auth:["ADMIN"],title:"Masterlist > Brethrens"},component:function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,"JwS/"))},beforeEnter:d},{path:"/masterlist/workers",name:"masterlist-workers",meta:{auth:["ADMIN"],title:"Masterlist > Workers"},component:function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,"UWpV"))},beforeEnter:d}]},{path:"/page-not-found",name:"page-not-found",component:function(){return n.e(5).then(n.bind(null,"BUYD"))},meta:{public:!0}},{path:"*",redirect:"/page-not-found"}]}),f=n("IcnI"),h=n("mtWM"),m=n.n(h),g=n("3EgV"),b=n.n(g),w=n("T2eB"),k=n.n(w),v=n("cTzj"),y=n.n(v),P=(n("j1ja"),n("1Rfu"));n("7zck"),n("xTAe"),n("aD/D");a.a.use(b.a),a.a.use(f.a),a.a.use(k.a),a.a.use(y.a,{observer:!0,observerOptions:{rootMargin:"0px",threshold:.1}}),a.a.config.productionTip=!1;var I=m.a.create({baseURL:"//167.99.79.83"});I.interceptors.request.use(function(t){return null!==f.a.getters.getToken&&(t.headers={Authorization:"Bearer "+f.a.getters.getToken}),t}),a.a.http=a.a.axios=I;var M={methods:{inputRules:function(){return{required:function(t){return!!t||"This is a required field"},email:function(t){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||"Invalid Email"},phoneNumber:function(t){return/^[0-9]+$/.test(t)||"Invalid mobile number"},money:function(t){return/^\$?\-?([1-9]{1}[0-9]{0,2}(\,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))$|^\-?\$?([1-9]{1}\d{0,2}(\,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))$|^\(\$?([1-9]{1}\d{0,2}(\,\d{3})*(\.\d{0,2})?|[1-9]{1}\d{0,}(\.\d{0,2})?|0(\.\d{0,2})?|(\.\d{1,2}))\)$/.test(t)||"Invalid amount"},multipleRequired:function(t){return t.length>0||"You must select atleast 1"}}},constructImageUrl:function(t){return console.log(t),t&&t.imagePath&&t.filename&&t.extension?t.imagePath+t.filename+"."+t.extension:null},timeformat:function(){return"DD-MMM-YY hh:mm a"},displayToast:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info";r.$emit("display-toast",{text:t,mode:e})},parseErrorRes:function(t){var e=t.response,n=[];if(e)return e.data&&e.data.errors&&e.data.errors?(Object(P.mapKeys)(e.data.errors,function(t,e){n.push(t)}),n.join("\n\n")):e.data.error||"An error occured. Please try again."}}};a.a.mixin(M),new a.a({el:"#app",router:p,store:f.a,components:{App:i},template:"<App/>"})},"aD/D":function(t,e){},gyMJ:function(t,e,n){"use strict";var a=n("//Fk"),r=n.n(a),o=n("7+uW"),u=n("IcnI"),i={login:function(t,e){return new r.a(function(n,a){var r={email:t,password:e};o.a.http.post("api/user/login",r).then(function(t){if(t&&t.data&&t.data.user&&t.data.token){var e=t.data.token,r=t.data.user;u.a.dispatch("setCredentials",{user:r,token:e}),n(t.data)}else a("Invalid user")}).catch(function(t){u.a.dispatch("clearUser"),a(t)})})},logout:function(){u.a.dispatch("clearUser")},me:function(){return new r.a(function(t,e){o.a.http.get("api/getUserLogin").then(function(e){u.a.dispatch("setCredentials",{user:e.data.user}),t(e.data.user)}).catch(function(t){u.a.dispatch("clearUser"),e(t)})})},register:function(t){return new r.a(function(e,n){o.a.http.post("api/user/register",t).then(function(t){e(t.data)}).catch(function(t){u.a.dispatch("clearUser"),n(t)})})}},c={createCategory:function(t){return new r.a(function(e,n){o.a.http.post("api/category/create",t).then(function(t){e(t.data)}).catch(function(t){n(t)})})},createSupplier:function(t){return new r.a(function(e,n){o.a.http.post("api/supplier/create",t).then(function(t){e(t.data)}).catch(function(t){n(t)})})},updateCategory:function(t){return new r.a(function(e,n){o.a.http.post("api/category/update",t).then(function(t){e(t.data)}).catch(function(t){n(t)})})},updateSupplier:function(t){return new r.a(function(e,n){o.a.http.post("api/supplier/update",t).then(function(t){e(t.data)}).catch(function(t){n(t)})})},loadCategoryList:function(t){return new r.a(function(e,n){o.a.http.get("api/category/all?status="+t).then(function(t){e(t.data.categories)}).catch(function(t){n(t)})})},loadSupplierList:function(t){return new r.a(function(e,n){o.a.http.get("api/supplier/all?status="+t).then(function(t){e(t.data.suppliers)}).catch(function(t){n(t)})})},getProductById:function(t){return new r.a(function(e,n){o.a.http.get("api/product/"+t).then(function(t){e(t.data.product)}).catch(function(t){n(t)})})},loadProductList:function(t){return new r.a(function(e,n){o.a.http.get("api/product/all?status="+t).then(function(t){e(t.data.products)}).catch(function(t){n(t)})})},createProduct:function(t){return new r.a(function(e,n){o.a.http.post("api/product/create",t).then(function(t){e(t.data.product)}).catch(function(t){n(t)})})},updateProduct:function(t){return new r.a(function(e,n){o.a.http.post("api/product/update",t).then(function(t){e(t.data.product)}).catch(function(t){n(t)})})},updateProductStatus:function(t,e){return new r.a(function(n,a){o.a.http.get("api/product/update/"+t+"/status/"+e).then(function(t){n(t.data.categories)}).catch(function(t){a(t)})})},deleteProductImage:function(t,e){return new r.a(function(n,a){o.a.http.get("api/product/delete/image/"+t+"?imageId="+e).then(function(t){n(t.data.categories)}).catch(function(t){a(t)})})}},s={loadMasterList:function(t){return new r.a(function(e,n){o.a.http.get("api/member/all?memberType="+t).then(function(t){e(t.data.members)}).catch(function(t){n(t)})})},getMemberById:function(t){return new r.a(function(e,n){o.a.http.get("api/member/"+t).then(function(t){e(t.data.member)}).catch(function(t){n(t)})})},createMember:function(t){return new r.a(function(e,n){o.a.http.post("api/member/add",t).then(function(t){e(t.data.member)}).catch(function(t){n(t)})})},updateMember:function(t){return new r.a(function(e,n){o.a.http.post("api/member/update",t).then(function(t){e(t.data.member)}).catch(function(t){n(t)})})},updateProductStatus:function(t,e){return new r.a(function(n,a){o.a.http.get("api/product/update/"+t+"/status/"+e).then(function(t){n(t.data.categories)}).catch(function(t){a(t)})})},deleteProductImage:function(t,e){return new r.a(function(n,a){o.a.http.get("api/product/delete/image/"+t+"?imageId="+e).then(function(t){n(t.data.categories)}).catch(function(t){a(t)})})}};n.d(e,"c",function(){return i}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return s})},xTAe:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0475a7d86cb2e78784ee.js.map