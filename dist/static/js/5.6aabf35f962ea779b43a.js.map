{"version":3,"sources":["webpack:///src/pages/web/product-category.vue","webpack:///./src/pages/web/product-category.vue","webpack:///./src/pages/web/product-category.vue?9789"],"names":["product_category","text","align","sortable","value","_this","this","validate","categoryId","categoryName","categoryDescription","displayToast","loadCategoryList","cancelModal","reset","_this2","id","name","description","log","_context2","t0","_this3","payload","_context3","_this4","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","attrs","row","wrap","xs12","staticClass","append-icon","label","single-line","hide-details","model","callback","$$v","search","expression","headers","items","categoryList","rows-per-page-items","rowPerPageItems","scopedSlots","_u","key","fn","props","bottom","slot","_v","_s","header","on","click","$event","stopPropagation","selectCategory","item","status","dateFormat","created_at","light","small","color","nativeOn","deleteCategory","max-width","persistent","categoryDialog","$set","ref","selected","prepend-icon","rules","inputRules","required","input","textarea","flat","disabled","loading","create","show","_e","medium","createCategory","updateCategory","fab","right","dark","fixed","__webpack_exports__"],"mappings":"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","file":"static/js/5.6aabf35f962ea779b43a.js","sourcesContent":["<template lang=\"pug\">\nv-layout(row, wrap)\n  v-flex(xs12)\n    v-text-field(append-icon=\"search\", label=\"Search\", single-line, hide-details, v-model=\"search\").mb-2\n\n    v-data-table.elevation-1(:headers=\"headers\", :items=\"categoryList\", :search=\"search\", :rows-per-page-items=\"rowPerPageItems\")\n      template(slot=\"headerCell\", slot-scope=\"props\")\n        v-tooltip(bottom)\n          span(slot=\"activator\")\n            | {{ props.header.text }}\n          span\n            | {{ props.header.text }}\n      template(slot=\"items\", slot-scope=\"props\")\n        tr(@click.stop=\"selectCategory(props.item)\").pointer\n          td {{ props.item.id }}\n          td {{ props.item.name }}\n          td.text-xs-left {{ props.item.description }}\n          td.text-xs-left {{ props.item.status }}\n          td.text-xs-left {{ dateFormat(props.item.created_at) }}\n          td.text-xs-left\n            v-btn( light, small, color=\"red\", @click.native.stop=\"deleteCategory(props.item)\").white--text Delete\n\n  v-dialog(v-model=\"categoryDialog.show\", max-width=\"500px\", persistent)\n    v-form(ref=\"createCategoryForm\")\n      v-card\n        v-card-title.title {{ (categoryDialog.selected ? 'Update Category' : 'Add Category') }}\n        v-card-text\n          v-layout(row, wrap)\n            v-flex(xs12)\n              v-text-field(\n                light,\n                single-line,\n                prepend-icon=\"mdi-shape\",\n                v-model=\"input.categoryName\",\n                label=\"Category Name\",\n                :rules=\"[inputRules()['required']]\",\n                required\n              )\n            v-flex(xs12)\n            v-text-field(\n              light,\n              textarea,\n              required,\n              v-model=\"input.categoryDescription\",\n              label=\"Description\"\n            )\n        v-card-actions.display-flex.justify-end\n          v-btn(color=\"red\", flat, @click.stop=\"categoryDialog.show = false\", :disabled=\"loading.create\") Close\n          v-btn(\n            v-if=\"!categoryDialog.selected\"\n            medium,\n            color=\"primary\",\n            :loading=\"loading.create\",\n            @click.stop=\"createCategory\"\n          ) Add Category\n\n          v-btn(\n            v-if=\"categoryDialog.selected\"\n            medium,\n            color=\"primary\",\n            :loading=\"loading.create\",\n            @click.stop=\"updateCategory(categoryDialog.selected)\"\n          ) Update Category\n\n  v-btn(fab, bottom, right, color=\"green\", dark, fixed, @click.stop=\"categoryDialog.show = true\")\n    v-icon add\n</template>\n\n<script>\nimport moment from 'moment'\nimport { ProductService } from '@/api'\n\nexport default {\n  name: 'product-category',\n  data () {\n    return {\n      rowPerPageItems: [15, 25, 50, {'text': 'All', 'value': -1}],\n      headers: [\n        {text: 'ID', align: 'left', sortable: true, value: 'id'},\n        {text: 'Category Name', align: 'left', sortable: true, value: 'name'},\n        {text: 'Description', align: 'left', value: 'description'},\n        {text: 'Status', align: 'left', value: 'status'},\n        {text: 'Created', align: 'left', value: 'created_at'},\n        {text: 'Actions', align: 'left', value: 'id'}\n      ],\n      search: null,\n      input: {\n        categoryName: null,\n        categoryDescription: null\n      },\n      categoryList: [],\n      categoryDialog: {\n        show: false,\n        selected: null\n      },\n      loading: {\n        create: false\n      }\n    }\n  },\n\n  methods: {\n    async updateCategory (categoryId) {\n      this.loading.create = false\n      if (!this.$refs.createCategoryForm.validate()) return\n\n      try {\n        this.loading.create = true\n        await ProductService.updateCategory({\n          catId: categoryId,\n          name: this.input.categoryName,\n          description: this.input.categoryDescription\n        })\n\n        this.displayToast(`Category has been updated`)\n        this.loadCategoryList()\n        this.cancelModal()\n        this.$refs.createCategoryForm.reset()\n        this.loading.create = false\n      } catch (e) {\n        this.loading.create = false\n        this.displayToast(this.parseErrorRes(e) || 'An error occured when trying to update category. Please try again', 'error')\n      }\n    },\n\n    cancelModal () {\n      this.categoryDialog.show = false\n      this.input = {\n        categoryName: null,\n        categoryDescription: null\n      }\n\n      this.categoryDialog.selected = null\n    },\n\n    dateFormat (datetime) {\n      return (datetime ? moment(datetime).format(this.timeformat()) : '')\n    },\n\n    async deleteCategory (category) {\n      try {\n        await ProductService.updateCategory({\n          catId: category.id,\n          name: category.name,\n          description: category.description,\n          status: 'inactive'\n        })\n\n        this.displayToast(`Successfully deleted Category - ${category.name}`)\n        this.loadCategoryList()\n      } catch (e) {\n        console.log(`e`, e)\n        this.displayToast(this.parseErrorRes(e) || 'An error occured when trying to delete category. Please try again', 'error')\n      }\n    },\n\n    selectCategory (category) {\n      this.input = {\n        categoryName: category.name,\n        categoryDescription: category.description\n      }\n\n      this.categoryDialog.selected = category.id\n      this.categoryDialog.show = true\n    },\n\n    async createCategory () {\n      this.loading.create = false\n      if (!this.$refs.createCategoryForm.validate()) return\n\n      try {\n        this.loading.create = true\n        let payload = {\n          name: this.input.categoryName,\n          description: this.input.categoryDescription\n        }\n\n        await ProductService.createCategory(payload)\n\n        this.loadCategoryList()\n        this.displayToast('Successfully added new category', 'success')\n        this.categoryDialog.show = false\n        this.loading.create = false\n\n        this.$refs.createCategoryForm.reset()\n      } catch (e) {\n        console.log(`ee`, e)\n        this.loading.create = false\n        this.displayToast(this.parseErrorRes(e) || 'An error occured. Please try again', 'error')\n      }\n    },\n\n    async loadCategoryList () {\n      try {\n        this.categoryList = await ProductService.loadCategoryList('active')\n      } catch (e) {\n        this.displayToast('An error occured when trying to load your category List. Please try again', 'error')\n      }\n    }\n  },\n\n  components: {},\n\n  mounted () {\n    this.loadCategoryList()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/web/product-category.vue","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product-category.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./product-category.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0597faeb\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./product-category.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/web/product-category.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"row\",\"wrap\":\"wrap\"}},[_c('v-flex',{attrs:{\"xs12\":\"xs12\"}},[_c('v-text-field',{staticClass:\"mb-2\",attrs:{\"append-icon\":\"search\",\"label\":\"Search\",\"single-line\":\"single-line\",\"hide-details\":\"hide-details\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.categoryList,\"search\":_vm.search,\"rows-per-page-items\":_vm.rowPerPageItems},scopedSlots:_vm._u([{key:\"headerCell\",fn:function(props){return [_c('v-tooltip',{attrs:{\"bottom\":\"bottom\"}},[_c('span',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(_vm._s(props.header.text))]),_c('span',[_vm._v(_vm._s(props.header.text))])])]}},{key:\"items\",fn:function(props){return [_c('tr',{staticClass:\"pointer\",on:{\"click\":function($event){$event.stopPropagation();_vm.selectCategory(props.item)}}},[_c('td',[_vm._v(_vm._s(props.item.id))]),_c('td',[_vm._v(_vm._s(props.item.name))]),_c('td',{staticClass:\"text-xs-left\"},[_vm._v(_vm._s(props.item.description))]),_c('td',{staticClass:\"text-xs-left\"},[_vm._v(_vm._s(props.item.status))]),_c('td',{staticClass:\"text-xs-left\"},[_vm._v(_vm._s(_vm.dateFormat(props.item.created_at)))]),_c('td',{staticClass:\"text-xs-left\"},[_c('v-btn',{staticClass:\"white--text\",attrs:{\"light\":\"light\",\"small\":\"small\",\"color\":\"red\"},nativeOn:{\"click\":function($event){$event.stopPropagation();_vm.deleteCategory(props.item)}}},[_vm._v(\"Delete\")])],1)])]}}])})],1),_c('v-dialog',{attrs:{\"max-width\":\"500px\",\"persistent\":\"persistent\"},model:{value:(_vm.categoryDialog.show),callback:function ($$v) {_vm.$set(_vm.categoryDialog, \"show\", $$v)},expression:\"categoryDialog.show\"}},[_c('v-form',{ref:\"createCategoryForm\"},[_c('v-card',[_c('v-card-title',{staticClass:\"title\"},[_vm._v(_vm._s((_vm.categoryDialog.selected ? 'Update Category' : 'Add Category')))]),_c('v-card-text',[_c('v-layout',{attrs:{\"row\":\"row\",\"wrap\":\"wrap\"}},[_c('v-flex',{attrs:{\"xs12\":\"xs12\"}},[_c('v-text-field',{attrs:{\"light\":\"light\",\"single-line\":\"single-line\",\"prepend-icon\":\"mdi-shape\",\"label\":\"Category Name\",\"rules\":[_vm.inputRules()['required']],\"required\":\"required\"},model:{value:(_vm.input.categoryName),callback:function ($$v) {_vm.$set(_vm.input, \"categoryName\", $$v)},expression:\"input.categoryName\"}})],1),_c('v-flex',{attrs:{\"xs12\":\"xs12\"}}),_c('v-text-field',{attrs:{\"light\":\"light\",\"textarea\":\"textarea\",\"required\":\"required\",\"label\":\"Description\"},model:{value:(_vm.input.categoryDescription),callback:function ($$v) {_vm.$set(_vm.input, \"categoryDescription\", $$v)},expression:\"input.categoryDescription\"}})],1)],1),_c('v-card-actions',{staticClass:\"display-flex justify-end\"},[_c('v-btn',{attrs:{\"color\":\"red\",\"flat\":\"flat\",\"disabled\":_vm.loading.create},on:{\"click\":function($event){$event.stopPropagation();_vm.categoryDialog.show = false}}},[_vm._v(\"Close\")]),(!_vm.categoryDialog.selected)?_c('v-btn',{attrs:{\"medium\":\"medium\",\"color\":\"primary\",\"loading\":_vm.loading.create},on:{\"click\":function($event){$event.stopPropagation();_vm.createCategory($event)}}},[_vm._v(\"Add Category\")]):_vm._e(),(_vm.categoryDialog.selected)?_c('v-btn',{attrs:{\"medium\":\"medium\",\"color\":\"primary\",\"loading\":_vm.loading.create},on:{\"click\":function($event){$event.stopPropagation();_vm.updateCategory(_vm.categoryDialog.selected)}}},[_vm._v(\"Update Category\")]):_vm._e()],1)],1)],1)],1),_c('v-btn',{attrs:{\"fab\":\"fab\",\"bottom\":\"bottom\",\"right\":\"right\",\"color\":\"green\",\"dark\":\"dark\",\"fixed\":\"fixed\"},on:{\"click\":function($event){$event.stopPropagation();_vm.categoryDialog.show = true}}},[_c('v-icon',[_vm._v(\"add\")])],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0597faeb\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/web/product-category.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}