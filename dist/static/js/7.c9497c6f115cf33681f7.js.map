{"version":3,"sources":["webpack:///src/pages/web/attendance/view.vue","webpack:///./src/pages/web/attendance/view.vue","webpack:///./src/pages/web/attendance/view.vue?701f"],"names":["view","text","align","sortable","value","_this","this","id","attendance","count","attendees","_this2","url","loadAttendance","Component","Object","component_normalizer","_vm","_h","$createElement","_c","_self","attrs","row","wrap","xs12","xs6","_v","_s","batch","_e","attendanceCount","downloadLink","primary","outline","on","click","$event","stopPropagation","downloadExcel","staticClass","append-icon","label","single-line","hide-details","model","callback","$$v","search","expression","headers","items","rows-per-page-items","rowPerPageItems","scopedSlots","_u","key","fn","props","bottom","slot","header","item","churchId","lastname","firstname","middlename","__webpack_exports__"],"mappings":"+JAgCAA,QAEA,oDAGA,qBACA,4BAEA,yCACA,cACAC,KAAA,KAAAC,MAAA,OAAAC,UAAA,EAAAC,MACA,aAAAH,KAAA,YAAAC,MAAA,OAAAC,UAAA,EAAAC,MACA,aAAAH,KAAA,aAAAC,MAAA,OAAAC,UAAA,EAAAC,MACA,cAAAH,KAAA,cAAAC,MAAA,OAAAC,UAAA,EAAAC,MAEA,sBAEA,0CAIA,IAAAC,EAAAC,2NAEA,uBACA,wDAGAC,mCACAC,+BACAC,oBAEAC,yJAEA,0FAGA,IAAAC,EAAAL,mKACAC,0DACA,+BACAK,yFAOAC,+BChEAC,EAAAC,OAAAC,EAAA,EAAAD,CACAf,ECfA,WAA0B,IAAAiB,EAAAX,KAAaY,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,YAAsBE,OAAOC,IAAA,MAAAC,KAAA,UAA2BJ,EAAA,UAAeE,OAAOG,KAAA,UAAeL,EAAA,UAAeE,OAAOI,IAAA,SAAaT,EAAA,WAAAG,EAAA,MAAAH,EAAAU,GAAAV,EAAAW,GAAAX,EAAAT,WAAAqB,UAAAZ,EAAAa,KAAAb,EAAA,WAAAG,EAAA,KAAAH,EAAAU,GAAA,oBAAAV,EAAAW,GAAAX,EAAAc,oBAAAd,EAAAa,KAAAb,EAAA,aAAAG,EAAA,OAAAA,EAAA,KAAAH,EAAAU,GAAA,kEAAAP,EAAA,KAAAH,EAAAU,GAAA,wBAAAP,EAAA,QAAAH,EAAAU,GAAAV,EAAAW,GAAAX,EAAAe,mBAAAf,EAAAa,KAAAb,EAAAe,aAAwhBf,EAAAa,KAAxhBV,EAAA,SAAsZE,OAAOW,QAAA,UAAAC,QAAA,WAAwCC,IAAKC,MAAA,SAAAC,GAAyBA,EAAAC,kBAAyBrB,EAAAsB,cAAAF,OAA4BpB,EAAAU,GAAA,wBAAAP,EAAA,gBAA6DoB,YAAA,OAAAlB,OAA0BmB,cAAA,SAAAC,MAAA,SAAAC,cAAA,cAAAC,eAAA,gBAAkGC,OAAQzC,MAAAa,EAAA,OAAA6B,SAAA,SAAAC,GAA4C9B,EAAA+B,OAAAD,GAAeE,WAAA,YAAsB7B,EAAA,gBAAqBoB,YAAA,cAAAlB,OAAiC4B,QAAAjC,EAAAiC,QAAAC,MAAAlC,EAAAP,UAAAsC,OAAA/B,EAAA+B,OAAAI,sBAAAnC,EAAAoC,iBAA0GC,YAAArC,EAAAsC,KAAsBC,IAAA,aAAAC,GAAA,SAAAC,GAAoC,OAAAtC,EAAA,aAAwBE,OAAOqC,OAAA,YAAmBvC,EAAA,QAAaE,OAAOsC,KAAA,aAAmBA,KAAA,cAAkB3C,EAAAU,GAAAV,EAAAW,GAAA8B,EAAAG,OAAA5D,SAAAmB,EAAA,QAAAH,EAAAU,GAAAV,EAAAW,GAAA8B,EAAAG,OAAA5D,eAA2FuD,IAAA,QAAAC,GAAA,SAAAC,GAA+B,OAAAtC,EAAA,MAAAA,EAAA,MAAAH,EAAAU,GAAAV,EAAAW,GAAA8B,EAAAI,KAAAC,aAAA3C,EAAA,MAAAH,EAAAU,GAAAV,EAAAW,GAAA8B,EAAAI,KAAAE,aAAA5C,EAAA,MAAAH,EAAAU,GAAAV,EAAAW,GAAA8B,EAAAI,KAAAG,cAAA7C,EAAA,MAAAH,EAAAU,GAAAV,EAAAW,GAAA8B,EAAAI,KAAAI,yBAAuN,YDMzpD,EAEA,KAEA,KAEA,MAYAC,EAAA,QAAArD,EAAA","file":"static/js/7.c9497c6f115cf33681f7.js","sourcesContent":["<template lang=\"pug\">\nv-layout(row, wrap)\n  v-flex(xs12)\n    v-flex(xs6)\n      h3(v-if=\"attendance\") {{ attendance.batch }}\n      p(v-if=\"attendance\") Attendees Count: {{ attendanceCount }}\n      //- a(v-if=\"downloadLink\", :href=\"downloadLink\", target=\"_blank\") Click here to download generated excel..\n      div(v-if=\"downloadLink\")\n        p Copy the link below and paste it to another tab to download.\n        p This is temporary.\n        code {{ downloadLink }}\n      v-btn(primary, outline, @click.stop=\"downloadExcel\", v-if=\"!downloadLink\") Generate Excel\n    v-text-field(append-icon=\"search\", label=\"Search\", single-line, hide-details, v-model=\"search\").mb-2\n\n    v-data-table.elevation-1(:headers=\"headers\", :items=\"attendees\", :search=\"search\", :rows-per-page-items=\"rowPerPageItems\")\n      template(slot=\"headerCell\", slot-scope=\"props\")\n        v-tooltip(bottom)\n          span(slot=\"activator\")\n            | {{ props.header.text }}\n          span\n            | {{ props.header.text }}\n      template(slot=\"items\", slot-scope=\"props\")\n        tr\n          td {{ props.item.churchId }}\n          td {{ props.item.lastname }}\n          td {{ props.item.firstname }}\n          td {{ props.item.middlename }}\n</template>\n\n<script>\nimport { AttendanceService } from '@/api'\n\nexport default {\n  name: 'attendance-view',\n  data () {\n    return {\n      attendance: null,\n      attendanceCount: 0,\n      attendees: [],\n      downloadLink: null,\n      rowPerPageItems: [{'text': 'All', 'value': -1}],\n      headers: [\n        {text: 'ID', align: 'left', sortable: true, value: 'churchId'},\n        {text: 'Last Name', align: 'left', sortable: false, value: 'lastname'},\n        {text: 'First Name', align: 'left', sortable: false, value: 'firstname'},\n        {text: 'Middle Name', align: 'left', sortable: false, value: 'middlename'}\n      ],\n      search: null\n    }\n  },\n\n  methods: {\n    async loadAttendance () {\n      if (!this.$route.params.id) {\n        this.displayToast('An error occured when trying to load attendance. Please try again', 'error')\n        this.$router.go(-1)\n      }\n      try {\n        let data = await AttendanceService.getAttendance(this.$route.params.id)\n        this.attendance = data.attendance\n        this.attendanceCount = data.count\n        this.attendees = data.attendees\n      } catch (e) {\n        this.displayToast('An error occured when trying to load your attendance List. Please try again', 'error')\n      }\n    },\n\n    async downloadExcel () {\n      let url = await AttendanceService.downloadAttendance(this.$route.params.id)\n      this.displayToast('Downloading Excel...', 'success')\n      this.downloadLink = `${url.url}`\n    }\n  },\n\n  components: {},\n\n  mounted () {\n    this.loadAttendance()\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/web/attendance/view.vue","/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./view.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./view.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-701aab18\\\",\\\"hasScoped\\\":false,\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/template-compiler/preprocessor?engine=pug!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./view.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/web/attendance/view.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-layout',{attrs:{\"row\":\"row\",\"wrap\":\"wrap\"}},[_c('v-flex',{attrs:{\"xs12\":\"xs12\"}},[_c('v-flex',{attrs:{\"xs6\":\"xs6\"}},[(_vm.attendance)?_c('h3',[_vm._v(_vm._s(_vm.attendance.batch))]):_vm._e(),(_vm.attendance)?_c('p',[_vm._v(\"Attendees Count: \"+_vm._s(_vm.attendanceCount))]):_vm._e(),(_vm.downloadLink)?_c('div',[_c('p',[_vm._v(\"Copy the link below and paste it to another tab to download.\")]),_c('p',[_vm._v(\"This is temporary.\")]),_c('code',[_vm._v(_vm._s(_vm.downloadLink))])]):_vm._e(),(!_vm.downloadLink)?_c('v-btn',{attrs:{\"primary\":\"primary\",\"outline\":\"outline\"},on:{\"click\":function($event){$event.stopPropagation();_vm.downloadExcel($event)}}},[_vm._v(\"Generate Excel\")]):_vm._e()],1),_c('v-text-field',{staticClass:\"mb-2\",attrs:{\"append-icon\":\"search\",\"label\":\"Search\",\"single-line\":\"single-line\",\"hide-details\":\"hide-details\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}}),_c('v-data-table',{staticClass:\"elevation-1\",attrs:{\"headers\":_vm.headers,\"items\":_vm.attendees,\"search\":_vm.search,\"rows-per-page-items\":_vm.rowPerPageItems},scopedSlots:_vm._u([{key:\"headerCell\",fn:function(props){return [_c('v-tooltip',{attrs:{\"bottom\":\"bottom\"}},[_c('span',{attrs:{\"slot\":\"activator\"},slot:\"activator\"},[_vm._v(_vm._s(props.header.text))]),_c('span',[_vm._v(_vm._s(props.header.text))])])]}},{key:\"items\",fn:function(props){return [_c('tr',[_c('td',[_vm._v(_vm._s(props.item.churchId))]),_c('td',[_vm._v(_vm._s(props.item.lastname))]),_c('td',[_vm._v(_vm._s(props.item.firstname))]),_c('td',[_vm._v(_vm._s(props.item.middlename))])])]}}])})],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-701aab18\",\"hasScoped\":false,\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/template-compiler/preprocessor.js?engine=pug!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/web/attendance/view.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}