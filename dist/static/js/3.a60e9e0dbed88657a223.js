webpackJsonp([3],{u08J:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a("Xxa5"),s=a.n(r),n=a("exGp"),i=a.n(n),o=a("gyMJ"),l={name:"products",data:function(){return{rowPerPageItems:[15,25,50,{text:"All",value:-1}],headers:[{text:"ID",align:"left",sortable:!0,value:"id"},{text:"Product Name",align:"left",sortable:!0,value:"name"},{text:"Brand",align:"left",value:"brand"},{text:"Specification",align:"left",value:"specification"},{text:"Supplier",align:"left",value:"supplier.name"},{text:"Status",align:"left",value:"status"},{text:"Actions",align:"left",value:"id"}],search:null,input:{name:null,price:null,categories:[],supplierId:null},productList:[],products:{show:!1,selected:null},loading:{create:!1}}},methods:{deleteProduct:function(t){var e=this;return i()(s.a.mark(function a(){return s.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.updateProductStatus(t.id,"INACTIVE");case 3:e.displayToast("Product has been deleted","success"),e.loadProductList(),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),e.displayToast(e.parseErrorRes(a.t0)||"An error occured when trying to delete product. Please try again","error");case 10:case"end":return a.stop()}},a,e,[[0,7]])}))()},loadProductList:function(){var t=this;return i()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.loadProductList("active");case 3:t.productList=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t.displayToast("An error occured when trying to load your product List. Please try again","error");case 9:case"end":return e.stop()}},e,t,[[0,6]])}))()}},components:{},mounted:function(){this.loadProductList()}},c=a("XyMi"),u=Object(c.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",{attrs:{row:"row",wrap:"wrap"}},[a("v-flex",{attrs:{xs12:"xs12"}},[a("v-text-field",{staticClass:"mb-2",attrs:{"append-icon":"search",label:"Search","single-line":"single-line","hide-details":"hide-details"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.productList,search:t.search,"rows-per-page-items":t.rowPerPageItems},scopedSlots:t._u([{key:"headerCell",fn:function(e){return[a("v-tooltip",{attrs:{bottom:"bottom"}},[a("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.header.text))]),a("span",[t._v(t._s(e.header.text))])])]}},{key:"items",fn:function(e){return[a("tr",{staticClass:"pointer",on:{click:function(a){t.$router.push({name:"product-view",params:{productId:e.item.id}})}}},[a("td",[t._v(t._s(e.item.id))]),a("td",[t._v(t._s(e.item.name))]),a("td",[t._v(t._s(e.item.brand))]),a("td",[t._v(t._s(e.item.specification))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.supplier.name))]),a("td",{staticClass:"text-xs-left"},[t._v(t._s(e.item.status))]),a("td",{staticClass:"text-xs-left"},[a("v-btn",{staticClass:"white--text",attrs:{light:"light",small:"small",color:"red"},nativeOn:{click:function(a){a.stopPropagation(),t.deleteProduct(e.item)}}},[t._v("Delete")])],1)])]}}])})],1),a("v-btn",{attrs:{fab:"fab",bottom:"bottom",right:"right",color:"green",dark:"dark",fixed:"fixed"},on:{click:function(e){e.stopPropagation(),t.$router.push({name:"product-create"})}}},[a("v-icon",[t._v("add")])],1)],1)},[],!1,null,null,null);e.default=u.exports}});
//# sourceMappingURL=3.a60e9e0dbed88657a223.js.map